---
layout: post
title: Slow ping on Debian
category: computing
comments: false
---


Today's problem : my browser spends way too much time trying to connect to a
website.
<!--more-->

Ping is really slow when trying for Google :

``` bash
$ time ping google.fr -c 4    
```

When trying for the IP, it's much faster :

``` bash
$ time ping 173.194.45.55 -c 4    
```

Hmm... After googling that, it appears it's the reverse DNS which is causing
troubles. You can check that with :

``` bash
$ time ping -n google.fr -c 4    
```

If it's the case, you can try the suggestions from
[stackexchange](http://unix.stackexchange.com/questions/37392/reverse-dns-lookups-slowing-down-network-operations-on-lan).
Personnally, I used Google's nameserver in <ic>/etc/resolv.conf</ic> and it worked well. However, this file is rewritten if you use DHCP or Network Manager. If you use Gnome, it's probably Network Manager, so pleas refer to [Debianwiki](https://wiki.debian.org/NetworkConfiguration#DNS_configuration_for_network-manager) for instructions.
Otherwise, you can check you use DHCP with <ic>/etc/network/interfaces</ic>. Then you should have a line along :

``` bash
$ iface eth0 inet dhcp   
```

If that's the case, you need to edit <ic>/etc/dhcp/dhclient.conf</ic>  and add :

``` bash
$ supersede domain-name-servers 8.8.8.8, 8.8.4.4;  
```

Now, you are good to go.
