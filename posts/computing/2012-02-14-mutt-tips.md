---
layout: post
title: Mutt tips
category: computing
comments: false
---


A little post following the setup of Mutt : here are some of the tips I have
found for Mutt.
<!--more-->

## Accents are not displayed
This happens when the charset is not correctly defined. 
Create the <ic>~/.mailcap</ic> file if it does not exist and put the following in it :

``` bash
text/html; w3m -I %{charset} -T text/html -dump; copiousoutput
```

## Desktop Notification
Everything is great but you cannot have mail notification ? 
I have tried to used directly <ic>notify-send</ic> on Gnome, but it does not always work,
even when exporting the <ic>DISPLAY</ic> variable :

``` bash
    :0 ic:
    *
    | export DISPLAY=:0.0; /usr/bin/notify-send -i 'evolution' \
    "New Mail"
```

So I used a script done by [Miek](http://www.miek.nl/s/803d2aaaa1/), somewhat
modified. The result is
[here](https://github.com/alexDarcy/scripts/blob/master/notify.sh).  
If you want to use it, don't forget to change the username from "alex" to yours.

## Do not include yourself in Group reply
Set <ic>alternates</ic> in <ic>.muttrc</ic>.
Every mail inside will be remove from the reply.

## Forward attachments also
Use the <ic>bounce</ic> functionnality instead of <ic>forward</ic>.

## Marking all unread mails as read
Select all unread mails with <ic>T ~O</ic>. Then mark them as
read with <ic>;WO</ic>.

_Note: An unread mail can be tagged with <ic>N</ic> instead of <ic>O</ic>, so
change the commands accordingly._

## Migrating from Thunderbird
If you have been using Thunderbird in the past, chances are that you want to migrate all your mails to Mutt.
However Thunderbird uses the mbox format for storing your mails so you will have to convert the folder to the maildir format.  
Fortunately, there are several scripts for that. The best I have found (meaning without special librairies) is this one : <a href="http://www.gerg.ca/hacks/mb2md/">mb2md</a>.
You will find your mail in the .thunderbirdfolder, in an 'Inbox' file.
The path should look like this :   
<ic>.thunderbird/5iieiei68bdtk.default/Mail/yourserver/Inbox</ic>

For some informations about the two formats, see <a href="http://www.linuxmail.info/mbox-maildir-mail-storage-formats/">here</a>.

## Start fetchmail at boot
I copied my <ic>~/.fetchmailrc</ic> to <ic>/etc/fetchmailrc</ic>.
Then edit the permissions with 

``` bash
$ chmod 600 /etc/fetchmailrc
```

Finally, add to <ic>/etc/default/fetchmail<ic> the following :

``` bash
START_DAEMON=yes
CONFFILE=/etc/fetchmailrc
RUNASROOT=false
```

Now you can restart fetchmail with <ic>/etc/init.d/fetchmail restart</ic>.
Beware, this has downloaded all of my emails again !
